<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Mindset Financier - OP!</title>
    <meta name="description" content="D√©couvre ton profil financier gr√¢ce √† notre quiz bas√© sur la psychologie financi√®re.">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/quiz.css">
</head>
<body class="quiz-body">
    <!-- HEADER (charg√© dynamiquement) -->
    <div id="header-placeholder"></div>

    <!-- QUIZ CONTAINER -->
    <main class="quiz-main">
        <!-- √âcran de chargement -->
        <div class="quiz-loading" id="quiz-loading">
            <div class="loader-spinner"></div>
            <p>Chargement du quiz...</p>
        </div>

        <!-- √âcran d'accueil -->
        <div class="quiz-screen quiz-intro" id="quiz-intro" style="display: none;">
            <div class="quiz-intro-card">
                <!-- Image de couverture -->
                <div class="quiz-cover-wrapper">
                    <img src="" alt="Quiz" id="quiz-cover-image" class="quiz-cover-image" style="display: none;">
                    <div class="quiz-cover-placeholder" id="quiz-cover-placeholder">üß†</div>
                </div>

                <div class="quiz-intro-header">
                    <span class="quiz-badge">üß† Quiz Gratuit</span>
                    <h1 id="quiz-title">Quel est ton mindset par rapport √† l'argent ?</h1>
                    <p class="quiz-subtitle" id="quiz-description"></p>
                </div>

                <!-- Bloc de reprise (affich√© si progression en cours) -->
                <div class="quiz-resume-block" id="quiz-resume-block" style="display: none;">
                    <div class="resume-info">
                        <span class="resume-icon">‚è∏Ô∏è</span>
                        <div class="resume-text">
                            <strong>Tu as un quiz en cours !</strong>
                            <span id="resume-progress-text">Question 3 sur 10</span>
                        </div>
                    </div>
                    <div class="resume-progress-bar">
                        <div class="resume-progress-fill" id="resume-progress-fill"></div>
                    </div>
                </div>

                <div class="quiz-intro-stat" id="quiz-stat">
                    <div class="stat-number" id="stat-number"></div>
                    <div class="stat-source" id="stat-source"></div>
                </div>

                <div class="quiz-intro-benefits" id="quiz-benefits">
                    <h3>üéØ √Ä la fin de ce quiz, tu sauras :</h3>
                    <ul id="benefits-list">
                        <!-- Charg√© dynamiquement -->
                    </ul>
                </div>

                <div class="quiz-intro-meta">
                    <span class="meta-item">‚è±Ô∏è <span id="quiz-duration">3 min</span></span>
                    <span class="meta-item">üìù <span id="quiz-questions-count">6</span> questions</span>
                    <span class="meta-item">üî¨ Bas√© sur la science</span>
                </div>

                <!-- Bouton normal (nouveau quiz) -->
                <button class="btn-quiz-start" id="btn-start" onclick="startQuiz()">
                    <span>Commencer le quiz</span>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </button>

                <!-- Boutons de reprise (affich√©s si progression) -->
                <button class="btn-quiz-start btn-resume" id="btn-resume" style="display: none;" onclick="resumeQuiz()">
                    <span>Reprendre o√π j'en √©tais</span>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="5 3 19 12 5 21 5 3"/>
                    </svg>
                </button>
                <button class="btn-quiz-secondary" id="btn-restart-fresh" style="display: none;" onclick="startQuiz()">
                    <span>Recommencer depuis le d√©but</span>
                </button>

                <p class="quiz-disclaimer">100% gratuit ‚Ä¢ Aucune inscription requise ‚Ä¢ R√©sultats imm√©diats</p>
            </div>
        </div>

        <!-- √âcran de question -->
        <div class="quiz-screen quiz-question-screen" id="quiz-question-screen" style="display: none;">
            <!-- Progress bar -->
            <div class="quiz-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <span class="progress-text" id="progress-text">Question 1/6</span>
            </div>

            <!-- Contexte de la s√©quence (optionnel) -->
            <div class="quiz-context" id="quiz-context" style="display: none;">
                <div class="context-badge" id="context-badge"></div>
                <p class="context-text" id="context-text"></p>
            </div>

            <!-- Stat highlight (optionnel) -->
            <div class="quiz-stat-highlight" id="quiz-stat-highlight" style="display: none;">
                <div class="stat-icon">üî¨</div>
                <div class="stat-content">
                    <p class="stat-text" id="highlight-stat-text"></p>
                    <span class="stat-source" id="highlight-stat-source"></span>
                </div>
            </div>

            <!-- Question -->
            <div class="quiz-question-container">
                <h2 class="quiz-question" id="quiz-question"></h2>
                
                <div class="quiz-answers" id="quiz-answers">
                    <!-- Answers will be inserted here -->
                </div>
            </div>

            <!-- Insight apr√®s r√©ponse -->
            <div class="quiz-insight" id="quiz-insight" style="display: none;">
                <div class="insight-icon">üí°</div>
                <p class="insight-text" id="insight-text"></p>
                <button class="btn-next" id="btn-next">
                    <span>Question suivante</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- √âcran de r√©sultat -->
        <div class="quiz-screen quiz-result-screen" id="quiz-result-screen" style="display: none;">
            <div class="result-card">
                <div class="result-header">
                    <span class="result-badge">üéâ Ton r√©sultat</span>
                    <div class="result-profile-icon" id="result-icon"></div>
                    <h2 class="result-profile-name" id="result-profile-name"></h2>
                    <p class="result-profile-subtitle" id="result-profile-subtitle"></p>
                </div>

                <!-- Graphique radar des scores -->
                <div class="result-chart">
                    <canvas id="result-radar-chart"></canvas>
                </div>

                <!-- Description du profil -->
                <div class="result-description">
                    <p id="result-description-text"></p>
                </div>

                <!-- Forces et vigilances -->
                <div class="result-details">
                    <div class="result-section result-forces">
                        <h3>‚úÖ Tes forces</h3>
                        <ul id="result-forces-list"></ul>
                    </div>
                    <div class="result-section result-vigilances">
                        <h3>‚ö†Ô∏è Points de vigilance</h3>
                        <ul id="result-vigilances-list"></ul>
                    </div>
                </div>

                <!-- Message cl√© -->
                <div class="result-key-message">
                    <p>üîë <strong>Cl√© de lecture :</strong> Aucun profil n'est ¬´ meilleur ¬ª. L'enjeu n'est pas de changer, mais de rendre conscient.</p>
                </div>

                <!-- Actions -->
                <div class="result-actions">
                    <button class="btn-share" id="btn-share">
                        <span>üì§</span> Partager mon r√©sultat
                    </button>
                    <a href="formations.html" class="btn-cta-primary">
                        <span>üìö</span> D√©couvrir les formations
                    </a>
                    <button class="btn-restart" id="btn-restart">
                        Refaire le quiz
                    </button>
                </div>

                <!-- Capture email (optionnel) -->
                <div class="result-email-capture">
                    <p>Re√ßois ton profil complet par email + des conseils personnalis√©s</p>
                    <form class="email-form" id="email-form">
                        <input type="email" placeholder="ton@email.com" id="result-email">
                        <button type="submit">Recevoir</button>
                    </form>
                </div>
            </div>

            <!-- CTA Final -->
            <div class="result-cta-section">
                <h3>üöÄ Pr√™t √† transformer ta relation √† l'argent ?</h3>
                <p>Rejoins OP! et acc√®de √† des formations concr√®tes pour les parents.</p>
                <div class="cta-buttons">
                    <a href="formations.html" class="btn btn-primary">Voir les formations</a>
                    <a href="webinaires.html" class="btn btn-secondary">Webinaires gratuits</a>
                </div>
            </div>
        </div>
    </main>

    <!-- FOOTER (charg√© dynamiquement) -->
    <div id="footer-placeholder"></div>

    <!-- Chart.js pour le graphique -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="assets/js/config.js"></script>
    <script src="assets/js/components.js"></script>
    <script src="assets/js/quiz.js"></script>
</body>
</html>