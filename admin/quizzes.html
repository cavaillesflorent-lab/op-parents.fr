<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des Quiz - Admin OP!</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/admin.css">
    <style>
        /* ============================================
           ADMIN QUIZ - √âDITEUR DE BLOCS
           ============================================ */
        
        .quiz-editor-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gray-50);
            z-index: 1000;
            overflow: hidden;
        }
        
        .quiz-editor-modal.active {
            display: flex;
            flex-direction: column;
        }
        
        .quiz-editor {
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }
        
        /* Header */
        .editor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background: var(--white);
            border-bottom: 1px solid var(--gray-200);
            flex-shrink: 0;
        }
        
        .editor-header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .btn-back {
            background: none;
            border: none;
            font-size: 1rem;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.5rem;
        }
        
        .btn-back:hover {
            color: var(--vert-fonce);
        }
        
        .editor-header h1 {
            font-size: 1.25rem;
            margin: 0;
        }
        
        .editor-header-right {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .save-status {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        
        /* ============================================
           ONGLETS DE S√âQUENCES/NIVEAUX (NOUVEAU)
           ============================================ */
        
        .sequences-tabs-bar {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0 1.5rem;
            background: var(--gray-100);
            border-bottom: 2px solid var(--gray-200);
            overflow-x: auto;
            flex-shrink: 0;
        }
        
        .sequence-tab {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-secondary);
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
            white-space: nowrap;
            transition: all 0.2s ease;
        }
        
        .sequence-tab:hover {
            color: var(--vert-fonce);
            background: rgba(45, 90, 61, 0.05);
        }
        
        .sequence-tab.active {
            color: var(--vert-fonce);
            border-bottom-color: var(--vert-fonce);
            background: var(--white);
        }
        
        .sequence-tab .tab-emoji {
            font-size: 1.1rem;
        }
        
        .sequence-tab .tab-delete {
            display: none;
            margin-left: 0.25rem;
            padding: 2px 6px;
            background: rgba(191, 96, 75, 0.1);
            border-radius: 50%;
            color: var(--terracotta);
            font-size: 0.8rem;
            line-height: 1;
        }
        
        .sequence-tab:hover .tab-delete {
            display: inline-flex;
        }
        
        .sequence-tab .tab-delete:hover {
            background: rgba(191, 96, 75, 0.2);
        }
        
        #btn-add-sequence {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border: 2px dashed var(--gray-400);
            border-radius: 8px;
            background: transparent;
            color: var(--text-secondary);
            font-size: 1.2rem;
            cursor: pointer;
            margin-left: 0.5rem;
            transition: all 0.2s ease;
        }
        
        #btn-add-sequence:hover {
            border-color: var(--vert-fonce);
            color: var(--vert-fonce);
            background: rgba(45, 90, 61, 0.05);
        }
        
        /* En-t√™te de s√©quence (titre, emoji, description) */
        .sequence-header-bar {
            padding: 1rem 1.5rem;
            background: var(--white);
            border-bottom: 1px solid var(--gray-200);
            flex-shrink: 0;
        }
        
        .sequence-header-fields {
            display: grid;
            grid-template-columns: 80px 1fr 1fr;
            gap: 1rem;
            align-items: end;
        }
        
        .sequence-field label {
            display: block;
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 0.35rem;
        }
        
        .sequence-field input {
            width: 100%;
            padding: 0.5rem 0.75rem;
            border: 1px solid var(--gray-300);
            border-radius: var(--radius-md);
            font-size: 0.9rem;
        }
        
        .sequence-field input:focus {
            outline: none;
            border-color: var(--vert-fonce);
        }
        
        .sequence-emoji-field input {
            text-align: center;
            font-size: 1.5rem;
            padding: 0.35rem;
        }
        
        /* Layout principal */
        .editor-layout {
            display: grid;
            grid-template-columns: 280px 1fr 320px;
            flex: 1;
            overflow: hidden;
        }
        
        /* Sidebar gauche - Types de blocs */
        .blocks-sidebar {
            background: var(--white);
            border-right: 1px solid var(--gray-200);
            padding: 1.5rem;
            overflow-y: auto;
        }
        
        .blocks-sidebar h3 {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }
        
        .block-types-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
        }
        
        .block-type-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 0.5rem;
            background: var(--gray-50);
            border: 2px solid transparent;
            border-radius: var(--radius-lg);
            cursor: grab;
            transition: all 0.2s ease;
            font-size: 0.8rem;
            color: var(--text-primary);
        }
        
        .block-type-btn:hover {
            background: var(--vert-clair);
            border-color: var(--vert-fonce);
        }
        
        .block-type-btn .block-icon {
            font-size: 1.5rem;
        }
        
        .block-type-btn .block-name {
            text-align: center;
            line-height: 1.2;
        }
        
        /* Zone centrale - Canvas */
        .editor-canvas {
            background: var(--gray-100);
            padding: 2rem;
            overflow-y: auto;
        }
        
        .canvas-inner {
            max-width: 800px;
            margin: 0 auto;
            min-height: 100%;
        }
        
        /* Bloc dans le canvas */
        .block-item {
            background: var(--white);
            border-radius: var(--radius-xl);
            margin-bottom: 1rem;
            box-shadow: var(--shadow-sm);
            border: 2px solid transparent;
            transition: all 0.2s ease;
        }
        
        .block-item:hover {
            box-shadow: var(--shadow-md);
        }
        
        .block-item.selected {
            border-color: var(--vert-fonce);
        }
        
        .block-item.dragging {
            opacity: 0.5;
        }
        
        .block-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            background: var(--gray-50);
            border-radius: var(--radius-xl) var(--radius-xl) 0 0;
            border-bottom: 1px solid var(--gray-200);
            cursor: grab;
        }
        
        .block-drag-handle {
            color: var(--text-secondary);
            cursor: grab;
        }
        
        .block-type-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--vert-fonce);
        }
        
        .block-actions {
            margin-left: auto;
            display: flex;
            gap: 0.25rem;
        }
        
        .block-action-btn {
            background: none;
            border: none;
            padding: 0.35rem;
            cursor: pointer;
            color: var(--text-secondary);
            border-radius: var(--radius-sm);
            transition: all 0.2s ease;
        }
        
        .block-action-btn:hover {
            background: var(--gray-200);
            color: var(--text-primary);
        }
        
        .block-action-btn.delete:hover {
            background: #fdeaea;
            color: var(--terracotta);
        }
        
        .block-content {
            padding: 1rem;
        }
        
        /* Formulaires dans les blocs */
        .block-form-group {
            margin-bottom: 1rem;
        }
        
        .block-form-group:last-child {
            margin-bottom: 0;
        }
        
        .block-form-group label {
            display: block;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 0.35rem;
        }
        
        .block-form-group input,
        .block-form-group textarea,
        .block-form-group select {
            width: 100%;
            padding: 0.6rem 0.75rem;
            border: 1px solid var(--gray-300);
            border-radius: var(--radius-md);
            font-size: 0.95rem;
            font-family: inherit;
            transition: border-color 0.2s ease;
        }
        
        .block-form-group input:focus,
        .block-form-group textarea:focus,
        .block-form-group select:focus {
            outline: none;
            border-color: var(--vert-fonce);
        }
        
        .block-form-group textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        .block-form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        /* Options de quiz/sondage */
        .options-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .option-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            background: var(--gray-50);
            border-radius: var(--radius-md);
        }
        
        .option-item .option-marker {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--white);
            border: 2px solid var(--gray-300);
            border-radius: 50%;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-secondary);
            flex-shrink: 0;
        }
        
        .option-item.correct .option-marker {
            background: var(--vert-clair);
            border-color: var(--vert-fonce);
            color: var(--vert-fonce);
        }
        
        .option-item input[type="text"] {
            flex: 1;
            border: none;
            background: transparent;
            padding: 0.35rem;
        }
        
        .option-item input[type="text"]:focus {
            outline: none;
            background: var(--white);
            border-radius: var(--radius-sm);
        }
        
        .option-correct-toggle {
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            background: var(--gray-200);
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            color: var(--text-secondary);
        }
        
        .option-item.correct .option-correct-toggle {
            background: var(--vert-clair);
            color: var(--vert-fonce);
        }
        
        .option-delete {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.25rem;
        }
        
        .option-delete:hover {
            color: var(--terracotta);
        }
        
        .add-option-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.5rem;
            background: none;
            border: 2px dashed var(--gray-300);
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.85rem;
            margin-top: 0.5rem;
            transition: all 0.2s ease;
        }
        
        .add-option-btn:hover {
            border-color: var(--vert-fonce);
            color: var(--vert-fonce);
            background: var(--vert-clair);
        }
        
        /* Champs d'exercice */
        .exercise-fields {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .exercise-field {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            background: var(--gray-50);
            border-radius: var(--radius-md);
        }
        
        .exercise-field input {
            flex: 1;
            border: none;
            background: transparent;
        }
        
        /* Tableau √©ditable */
        .table-editor {
            overflow-x: auto;
        }
        
        .table-editor table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .table-editor th,
        .table-editor td {
            border: 1px solid var(--gray-300);
            padding: 0.5rem;
        }
        
        .table-editor th {
            background: var(--gray-100);
        }
        
        .table-editor input {
            width: 100%;
            border: none;
            background: transparent;
            text-align: center;
        }
        
        .table-controls {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        /* Sidebar droite - Param√®tres */
        .settings-sidebar {
            background: var(--white);
            border-left: 1px solid var(--gray-200);
            padding: 1.5rem;
            overflow-y: auto;
        }
        
        .settings-section {
            margin-bottom: 2rem;
        }
        
        .settings-section h3 {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--gray-200);
        }
        
        .settings-group {
            margin-bottom: 1rem;
        }
        
        .settings-group label {
            display: block;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 0.35rem;
        }
        
        .settings-group input,
        .settings-group textarea {
            width: 100%;
            padding: 0.5rem 0.75rem;
            border: 1px solid var(--gray-300);
            border-radius: var(--radius-md);
            font-size: 0.9rem;
        }
        
        .settings-toggle {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }
        
        .toggle-switch {
            position: relative;
            width: 44px;
            height: 24px;
            flex-shrink: 0;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--gray-300);
            transition: 0.3s;
            border-radius: 24px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.3s;
            border-radius: 50%;
        }
        
        .toggle-switch input:checked + .toggle-slider {
            background-color: var(--vert-fonce);
        }
        
        .toggle-switch input:checked + .toggle-slider:before {
            transform: translateX(20px);
        }
        
        .toggle-label {
            font-size: 0.85rem;
            color: var(--text-primary);
        }
        
        /* Empty state */
        .canvas-empty {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 4rem 2rem;
            text-align: center;
            background: var(--white);
            border: 2px dashed var(--gray-300);
            border-radius: var(--radius-xl);
        }
        
        .canvas-empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .canvas-empty h3 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }
        
        .canvas-empty p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }
        
        /* Drop zone indicator */
        .drop-zone {
            height: 4px;
            background: var(--vert-fonce);
            border-radius: 2px;
            margin: 0.5rem 0;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .drop-zone.active {
            opacity: 1;
        }
        
        /* Stats bar */
        .quiz-stats-bar {
            display: flex;
            gap: 2rem;
            padding: 1rem 1.5rem;
            background: var(--white);
            border-radius: var(--radius-xl);
            margin-bottom: 1.5rem;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--vert-fonce);
        }
        
        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        
        /* Table liste */
        .data-table-container {
            background: var(--white);
            border-radius: var(--radius-xl);
            overflow: hidden;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .data-table th,
        .data-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--gray-200);
        }
        
        .data-table th {
            background: var(--gray-50);
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        
        .data-table tbody tr:hover {
            background: var(--gray-50);
        }
        
        .quiz-title-cell {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .quiz-icon {
            width: 40px;
            height: 40px;
            background: var(--vert-clair);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }
        
        .quiz-info h4 {
            margin: 0;
            font-size: 0.95rem;
        }
        
        .quiz-info small {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }
        
        .status-badge {
            display: inline-flex;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .status-badge.published {
            background: var(--vert-clair);
            color: var(--vert-fonce);
        }
        
        .status-badge.draft {
            background: var(--gray-200);
            color: var(--text-secondary);
        }
        
        .actions-cell {
            display: flex;
            gap: 0.5rem;
        }
        
        .btn-icon {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s ease;
            background: var(--gray-100);
            color: var(--text-secondary);
        }
        
        .btn-icon:hover {
            background: var(--vert-clair);
            color: var(--vert-fonce);
        }
        
        .btn-icon.delete:hover {
            background: #fdeaea;
            color: var(--terracotta);
        }
        
        /* Modal suppression */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
        }
        
        .modal-content {
            position: relative;
            background: var(--white);
            border-radius: var(--radius-xl);
            padding: 1.5rem;
            max-width: 400px;
            width: 90%;
        }
        
        .modal-content h2 {
            margin: 0 0 1rem;
            font-size: 1.1rem;
        }
        
        .modal-content p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }
        
        .modal-actions {
            display: flex;
            gap: 0.75rem;
            justify-content: flex-end;
        }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .editor-layout {
                grid-template-columns: 1fr;
            }
            
            .blocks-sidebar,
            .settings-sidebar {
                display: none;
            }
            
            .sequence-header-fields {
                grid-template-columns: 1fr;
            }
            
            .sequence-emoji-field {
                max-width: 100px;
            }
        }
        
        /* ============================================
           UPLOAD IMAGE
           ============================================ */
        
        .image-upload-zone {
            border: 2px dashed var(--gray-300);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .image-upload-zone:hover {
            border-color: var(--vert-fonce);
            background: rgba(45, 90, 61, 0.05);
        }
        
        .image-upload-zone.dragover {
            border-color: var(--vert-fonce);
            background: rgba(45, 90, 61, 0.1);
        }
        
        .image-upload-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }
        
        .upload-icon {
            font-size: 2rem;
        }
        
        .upload-text {
            font-weight: 500;
            color: var(--text-primary);
        }
        
        .upload-hint {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        .image-preview-container {
            position: relative;
            width: 100%;
        }
        
        .image-preview-container img {
            width: 100%;
            max-height: 150px;
            object-fit: cover;
            border-radius: var(--radius-md);
        }
        
        .btn-remove-image {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease;
        }
        
        .btn-remove-image:hover {
            background: #BF604B;
        }
        
        .upload-progress {
            margin-top: 0.75rem;
        }
        
        .progress-bar {
            height: 6px;
            background: var(--gray-200);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--vert-fonce);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            display: block;
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }
    </style>
</head>
<body class="admin-body">
    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="sidebar-header">
                <img src="../assets/images/logo.png" alt="OP!" class="sidebar-logo">
                <span>Administration</span>
            </div>
            <nav class="sidebar-nav">
                <a href="index.html" class="nav-item">
                    <span class="nav-icon">üìä</span>
                    Dashboard
                </a>
                <a href="webinaires.html" class="nav-item">
                    <span class="nav-icon">üé•</span>
                    Webinaires
                </a>
                <a href="quizzes.html" class="nav-item active">
                    <span class="nav-icon">üß†</span>
                    Quiz / Guides
                </a>
            </nav>
            <div class="sidebar-footer">
                <a href="../index.html" class="nav-item">
                    <span class="nav-icon">üè†</span>
                    Voir le site
                </a>
                <button class="nav-item logout-btn" id="logout-btn">
                    <span class="nav-icon">üö™</span>
                    D√©connexion
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <header class="admin-header">
                <h1>Guides & Quiz √âducatifs</h1>
                <button class="btn btn-primary" id="new-quiz-btn">
                    ‚ûï Nouveau guide
                </button>
            </header>

            <div class="admin-content">
                <!-- Stats rapides -->
                <div class="quiz-stats-bar">
                    <div class="stat-item">
                        <span class="stat-value" id="total-quizzes">-</span>
                        <span class="stat-label">Guides cr√©√©s</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="total-responses">-</span>
                        <span class="stat-label">Vues totales</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="published-quizzes">-</span>
                        <span class="stat-label">Publi√©s</span>
                    </div>
                </div>

                <!-- Liste des quiz -->
                <div class="data-table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Guide</th>
                                <th>Blocs</th>
                                <th>Vues</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="quizzes-list">
                            <tr>
                                <td colspan="5" class="loading">Chargement...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- MODAL √âDITEUR DE BLOCS (Plein √©cran) -->
    <div class="quiz-editor-modal" id="quiz-editor-modal">
        <div class="quiz-editor">
            <!-- Header -->
            <header class="editor-header">
                <div class="editor-header-left">
                    <button class="btn-back" id="btn-back">‚Üê Retour</button>
                    <h1 id="editor-title">Nouveau Guide</h1>
                </div>
                <div class="editor-header-right">
                    <span class="save-status" id="save-status"></span>
                    <button class="btn btn-secondary" id="btn-preview">üëÅÔ∏è Aper√ßu</button>
                    <button class="btn btn-primary" id="btn-save">üíæ Enregistrer</button>
                </div>
            </header>

            <!-- ============================================
                 ONGLETS DE S√âQUENCES/NIVEAUX (NOUVEAU)
                 ============================================ -->
            <div class="sequences-tabs-bar">
                <div id="sequences-tabs-container">
                    <!-- Les onglets seront g√©n√©r√©s par JS -->
                </div>
                <button type="button" id="btn-add-sequence" title="Ajouter un niveau">+</button>
            </div>

            <!-- En-t√™te de la s√©quence active -->
            <div class="sequence-header-bar">
                <div id="sequence-header-container">
                    <!-- G√©n√©r√© par JS -->
                </div>
            </div>

            <!-- Layout 3 colonnes -->
            <div class="editor-layout">
                
                <!-- Sidebar gauche - Types de blocs -->
                <aside class="blocks-sidebar">
                    <h3>üì¶ Blocs disponibles</h3>
                    <p style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 1rem;">
                        Cliquez ou glissez un bloc vers le canvas
                    </p>
                    
                    <div class="block-types-grid">
                        <button class="block-type-btn" data-type="section-title">
                            <span class="block-icon">üìë</span>
                            <span class="block-name">Titre section</span>
                        </button>
                        <button class="block-type-btn" data-type="narrative">
                            <span class="block-icon">üìñ</span>
                            <span class="block-name">Narratif</span>
                        </button>
                        <button class="block-type-btn" data-type="info-box">
                            <span class="block-icon">üìã</span>
                            <span class="block-name">Encadr√© info</span>
                        </button>
                        <button class="block-type-btn" data-type="stat">
                            <span class="block-icon">üìä</span>
                            <span class="block-name">Statistique</span>
                        </button>
                        <button class="block-type-btn" data-type="poll">
                            <span class="block-icon">üó≥Ô∏è</span>
                            <span class="block-name">Sondage</span>
                        </button>
                        <button class="block-type-btn" data-type="quiz">
                            <span class="block-icon">‚ùì</span>
                            <span class="block-name">Quiz</span>
                        </button>
                        <button class="block-type-btn" data-type="focus">
                            <span class="block-icon">üîç</span>
                            <span class="block-name">Focus</span>
                        </button>
                        <button class="block-type-btn" data-type="table">
                            <span class="block-icon">üìà</span>
                            <span class="block-name">Tableau</span>
                        </button>
                        <button class="block-type-btn" data-type="exercise">
                            <span class="block-icon">‚úçÔ∏è</span>
                            <span class="block-name">Exercice</span>
                        </button>
                        <button class="block-type-btn" data-type="summary">
                            <span class="block-icon">üìù</span>
                            <span class="block-name">R√©sum√©</span>
                        </button>
                        <button class="block-type-btn" data-type="cta">
                            <span class="block-icon">üéØ</span>
                            <span class="block-name">CTA</span>
                        </button>
                        <button class="block-type-btn" data-type="image">
                            <span class="block-icon">üñºÔ∏è</span>
                            <span class="block-name">Image</span>
                        </button>
                        <button class="block-type-btn" data-type="personal-field" style="background: linear-gradient(135deg, #DFF2B6, #C5E89E); border-color: #A8D970;">
                            <span class="block-icon">üë§</span>
                            <span class="block-name">Champ perso</span>
                        </button>
                        <button class="block-type-btn" data-type="page-break" style="background: linear-gradient(135deg, #F0D075, #E5C35A); border-color: #E5C35A;">
                            <span class="block-icon">‚û°Ô∏è</span>
                            <span class="block-name">Slide suivante</span>
                        </button>
                    </div>
                </aside>

                <!-- Zone centrale - Canvas -->
                <main class="editor-canvas" id="editor-canvas">
                    <div class="canvas-inner" id="canvas-inner">
                        <div class="canvas-empty" id="canvas-empty">
                            <div class="canvas-empty-icon">üìù</div>
                            <h3>Commencez votre guide</h3>
                            <p>Cliquez sur un type de bloc √† gauche ou glissez-le ici</p>
                        </div>
                        
                        <!-- Les blocs seront ins√©r√©s ici -->
                        <div id="blocks-container"></div>
                    </div>
                </main>

                <!-- Sidebar droite - Param√®tres -->
                <aside class="settings-sidebar">
                    <div class="settings-section">
                        <h3>‚öôÔ∏è Param√®tres du guide</h3>
                        
                        <div class="settings-group">
                            <label for="quiz-title">Titre *</label>
                            <input type="text" id="quiz-title" placeholder="Ex: Le budget familial">
                        </div>
                        
                        <div class="settings-group">
                            <label for="quiz-subtitle">Sous-titre</label>
                            <input type="text" id="quiz-subtitle" placeholder="Ex: Comprendre o√π passe ton argent">
                        </div>
                        
                        <div class="settings-group">
                            <label for="quiz-slug">Slug (URL)</label>
                            <input type="text" id="quiz-slug" placeholder="budget-familial">
                        </div>
                        
                        <div class="settings-group">
                            <label for="quiz-duration">Dur√©e estim√©e</label>
                            <input type="text" id="quiz-duration" placeholder="10 min" value="10 min">
                        </div>
                        
                        <div class="settings-group">
                            <label for="quiz-icon">Emoji ic√¥ne</label>
                            <input type="text" id="quiz-icon" placeholder="üí∞" value="üí∞" maxlength="4">
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h3>üì§ Publication</h3>
                        
                        <div class="settings-toggle">
                            <label class="toggle-switch">
                                <input type="checkbox" id="quiz-published">
                                <span class="toggle-slider"></span>
                            </label>
                            <span class="toggle-label">Guide publi√©</span>
                        </div>
                        
                        <div class="settings-toggle">
                            <label class="toggle-switch">
                                <input type="checkbox" id="quiz-collect-email">
                                <span class="toggle-slider"></span>
                            </label>
                            <span class="toggle-label">Collecter email √† la fin</span>
                        </div>
                        
                        <div class="settings-toggle">
                            <label class="toggle-switch">
                                <input type="checkbox" id="quiz-show-progress" checked>
                                <span class="toggle-slider"></span>
                            </label>
                            <span class="toggle-label">Barre de progression</span>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h3>üé® Apparence</h3>
                        
                        <div class="settings-group">
                            <label for="quiz-category">Cat√©gorie</label>
                            <select id="quiz-category">
                                <option value="budget">üí∞ Budget</option>
                                <option value="epargne">üõ°Ô∏è √âpargne</option>
                                <option value="investissement">üìà Investissement</option>
                                <option value="mindset">üß† Mindset</option>
                                <option value="famille">üë®‚Äçüë©‚Äçüëß Famille</option>
                            </select>
                        </div>
                        
                        <div class="settings-group">
                            <label>Image de couverture</label>
                            <div class="image-upload-zone" id="image-upload-zone">
                                <div class="image-preview-container" id="image-preview-container" style="display: none;">
                                    <img id="image-preview" src="" alt="Pr√©visualisation">
                                    <button type="button" class="btn-remove-image" id="btn-remove-image" title="Supprimer">√ó</button>
                                </div>
                                <div class="image-upload-placeholder" id="image-upload-placeholder">
                                    <span class="upload-icon">üñºÔ∏è</span>
                                    <span class="upload-text">Cliquer ou glisser une image</span>
                                    <span class="upload-hint">JPG, PNG, WebP (max 2 Mo)</span>
                                </div>
                                <input type="file" id="quiz-image-file" accept="image/*" style="display: none;">
                                <input type="hidden" id="quiz-image" value="">
                            </div>
                            <div class="upload-progress" id="image-upload-progress" style="display: none;">
                                <div class="progress-bar"><div class="progress-fill" id="image-progress-fill"></div></div>
                                <span class="progress-text" id="image-progress-text">Upload en cours...</span>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </div>

    <!-- Modal suppression -->
    <div class="modal" id="delete-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <h2>Supprimer ce guide ?</h2>
            <p>Cette action est irr√©versible. Toutes les donn√©es seront perdues.</p>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="delete-cancel">Annuler</button>
                <button class="btn btn-danger" id="delete-confirm">Supprimer</button>
            </div>
        </div>
    </div>

    <!-- TEMPLATES DES BLOCS -->
    <template id="template-section-title">
        <div class="block-item" data-type="section-title">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge">üìë Titre de section</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>Titre de la section</label>
                    <input type="text" class="block-field" data-field="title" placeholder="Ex: √âtape 1 : regarder la r√©alit√© en face üëÄ">
                </div>
            </div>
        </div>
    </template>

    <template id="template-narrative">
        <div class="block-item" data-type="narrative">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge">üìñ Narratif</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>Accroche / Titre (optionnel)</label>
                    <input type="text" class="block-field" data-field="title" placeholder="Ex: Samedi matin, 10h47 üõí">
                </div>
                <div class="block-form-group">
                    <label>Texte narratif</label>
                    <textarea class="block-field" data-field="content" rows="6" placeholder="Tu es au supermarch√© avec les enfants..."></textarea>
                </div>
            </div>
        </div>
    </template>

    <template id="template-info-box">
        <div class="block-item" data-type="info-box">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge">üìã Encadr√© info</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>Titre de l'encadr√© (optionnel)</label>
                    <input type="text" class="block-field" data-field="title" placeholder="Ex: Ce qu'ils pensaient d√©penser vs la r√©alit√©">
                </div>
                <div class="block-form-group">
                    <label>Contenu (utilisez ‚Ä¢ pour les listes)</label>
                    <textarea class="block-field" data-field="content" rows="6" placeholder="‚Ä¢ Point 1&#10;‚Ä¢ Point 2&#10;‚Ä¢ Point 3"></textarea>
                </div>
                <div class="block-form-group">
                    <label>Style</label>
                    <select class="block-field" data-field="style">
                        <option value="default">Par d√©faut</option>
                        <option value="highlight">Mis en avant (fond color√©)</option>
                        <option value="warning">Attention</option>
                        <option value="tip">Astuce</option>
                    </select>
                </div>
            </div>
        </div>
    </template>

    <template id="template-stat">
        <div class="block-item" data-type="stat">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge">üìä Statistique</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>Statistique</label>
                    <textarea class="block-field" data-field="stat" rows="2" placeholder="Ex: 52% des Fran√ßais seraient incapables de faire face √† une d√©pense impr√©vue de 1 000 ‚Ç¨"></textarea>
                </div>
                <div class="block-form-group">
                    <label>Source</label>
                    <input type="text" class="block-field" data-field="source" placeholder="Ex: Barom√®tre COFIDIS 2024">
                </div>
            </div>
        </div>
    </template>

    <template id="template-poll">
        <div class="block-item" data-type="poll">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge">üó≥Ô∏è Sondage</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>Titre du sondage</label>
                    <input type="text" class="block-field" data-field="title" placeholder="Ex: Un sondage ! üïµÔ∏è">
                </div>
                <div class="block-form-group">
                    <label>Question</label>
                    <textarea class="block-field" data-field="question" rows="2" placeholder="Ex: Honn√™tement, tu sais combien tu d√©penses en courses chaque mois ?"></textarea>
                </div>
                <div class="block-form-group">
                    <label>Options (pas de bonne r√©ponse)</label>
                    <div class="options-list" data-field="options">
                        <div class="option-item">
                            <span class="option-marker">‚ñ°</span>
                            <input type="text" placeholder="Option 1">
                            <button class="option-delete" title="Supprimer">√ó</button>
                        </div>
                        <div class="option-item">
                            <span class="option-marker">‚ñ°</span>
                            <input type="text" placeholder="Option 2">
                            <button class="option-delete" title="Supprimer">√ó</button>
                        </div>
                        <div class="option-item">
                            <span class="option-marker">‚ñ°</span>
                            <input type="text" placeholder="Option 3">
                            <button class="option-delete" title="Supprimer">√ó</button>
                        </div>
                    </div>
                    <button class="add-option-btn">+ Ajouter une option</button>
                </div>
            </div>
        </div>
    </template>

    <template id="template-quiz">
        <div class="block-item" data-type="quiz">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge">‚ùì Quiz</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>Titre (optionnel)</label>
                    <input type="text" class="block-field" data-field="title" placeholder="Ex: Hop, un quiz ! ‚ùì">
                </div>
                <div class="block-form-group">
                    <label>Question</label>
                    <textarea class="block-field" data-field="question" rows="2" placeholder="Ex: L'√©pargne de pr√©caution sert √† :"></textarea>
                </div>
                <div class="block-form-group">
                    <label>Options (cliquez sur ‚úì pour marquer la bonne r√©ponse)</label>
                    <div class="options-list" data-field="options">
                        <div class="option-item">
                            <span class="option-marker">A</span>
                            <input type="text" placeholder="R√©ponse A">
                            <button class="option-correct-toggle" title="Bonne r√©ponse">‚úì</button>
                            <button class="option-delete" title="Supprimer">√ó</button>
                        </div>
                        <div class="option-item">
                            <span class="option-marker">B</span>
                            <input type="text" placeholder="R√©ponse B">
                            <button class="option-correct-toggle" title="Bonne r√©ponse">‚úì</button>
                            <button class="option-delete" title="Supprimer">√ó</button>
                        </div>
                        <div class="option-item">
                            <span class="option-marker">C</span>
                            <input type="text" placeholder="R√©ponse C">
                            <button class="option-correct-toggle" title="Bonne r√©ponse">‚úì</button>
                            <button class="option-delete" title="Supprimer">√ó</button>
                        </div>
                    </div>
                    <button class="add-option-btn">+ Ajouter une option</button>
                </div>
                <div class="block-form-group">
                    <label>Explication de la bonne r√©ponse</label>
                    <textarea class="block-field" data-field="explanation" rows="4" placeholder="Ex: ‚úÖ R√©ponse : Faire face aux impr√©vus...&#10;&#10;L'√©pargne de pr√©caution n'est pas une √©pargne ¬´ projet ¬ª..."></textarea>
                </div>
            </div>
        </div>
    </template>

    <template id="template-focus">
        <div class="block-item" data-type="focus">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge">üîç Focus</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>Titre du focus</label>
                    <input type="text" class="block-field" data-field="title" placeholder="Ex: C'est quoi une d√©pense ¬´ invisible ¬ª ? ü§î">
                </div>
                <div class="block-form-group">
                    <label>D√©finition / Explication</label>
                    <textarea class="block-field" data-field="content" rows="4" placeholder="C'est une d√©pense que tu fais sans y penser..."></textarea>
                </div>
            </div>
        </div>
    </template>

    <template id="template-table">
        <div class="block-item" data-type="table">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge">üìà Tableau</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>Titre du tableau (optionnel)</label>
                    <input type="text" class="block-field" data-field="title" placeholder="Ex: Les impr√©vus qui arrivent √† tout le monde">
                </div>
                <div class="block-form-group">
                    <label>Donn√©es (format CSV simplifi√©)</label>
                    <textarea class="block-field" data-field="data" rows="6" placeholder="Type d'impr√©vu | Co√ªt moyen | Fr√©quence
R√©paration voiture | 300 √† 1 500 ‚Ç¨ | Tous les 1-2 ans
√âlectrom√©nager en panne | 200 √† 800 ‚Ç¨ | Tous les 2-3 ans"></textarea>
                    <small style="color: var(--text-secondary);">S√©parez les colonnes par | et les lignes par entr√©e</small>
                </div>
            </div>
        </div>
    </template>

    <template id="template-exercise">
        <div class="block-item" data-type="exercise">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge">‚úçÔ∏è Exercice</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>Titre de l'exercice</label>
                    <input type="text" class="block-field" data-field="title" placeholder="Ex: üìù Fiche √† remplir">
                </div>
                <div class="block-form-group">
                    <label>Champs √† remplir (un par ligne)</label>
                    <textarea class="block-field" data-field="fields" rows="6" placeholder="MES REVENUS MENSUELS : ___ ‚Ç¨
MES D√âPENSES AUTOMATIQUES : ___ ‚Ç¨
MON RESTE √Ä VIVRE : ___ ‚Ç¨"></textarea>
                    <small style="color: var(--text-secondary);">Utilisez ___ pour indiquer o√π l'utilisateur doit remplir</small>
                </div>
                <div class="block-form-group">
                    <label>Instructions / Aide (optionnel)</label>
                    <textarea class="block-field" data-field="instructions" rows="2" placeholder="Ex: Prends tes 3 derniers relev√©s de compte..."></textarea>
                </div>
            </div>
        </div>
    </template>

    <template id="template-summary">
        <div class="block-item" data-type="summary">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge">üìù R√©sum√©</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>Titre du r√©sum√©</label>
                    <input type="text" class="block-field" data-field="title" placeholder="Ex: En r√©sum√© üìù">
                </div>
                <div class="block-form-group">
                    <label>Points cl√©s (un par ligne, commence par emoji ou num√©ro)</label>
                    <textarea class="block-field" data-field="points" rows="8" placeholder="1Ô∏è‚É£ REGARDER
Tes relev√©s bancaires, pas ta m√©moire.

2Ô∏è‚É£ TRIER
L'automatique d'un c√¥t√©, le reste de l'autre.

3Ô∏è‚É£ ANTICIPER
Les gros mois (rentr√©e, No√´l, vacances)."></textarea>
                </div>
            </div>
        </div>
    </template>

    <template id="template-cta">
        <div class="block-item" data-type="cta">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge">üéØ Call-to-Action</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>Titre</label>
                    <input type="text" class="block-field" data-field="title" placeholder="Ex: Envie d'aller plus loin ?">
                </div>
                <div class="block-form-group">
                    <label>Texte</label>
                    <textarea class="block-field" data-field="content" rows="3" placeholder="Ex: OP! Parents t'accompagne avec des webinaires..."></textarea>
                </div>
                <div class="block-form-row">
                    <div class="block-form-group">
                        <label>Texte du bouton</label>
                        <input type="text" class="block-field" data-field="button_text" placeholder="Ex: D√©couvrir ‚Üí">
                    </div>
                    <div class="block-form-group">
                        <label>Lien du bouton</label>
                        <input type="text" class="block-field" data-field="button_url" placeholder="Ex: /webinaires.html">
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="template-image">
        <div class="block-item" data-type="image">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge">üñºÔ∏è Image</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>URL de l'image</label>
                    <input type="url" class="block-field" data-field="url" placeholder="https://...">
                </div>
                <div class="block-form-group">
                    <label>L√©gende (optionnel)</label>
                    <input type="text" class="block-field" data-field="caption" placeholder="Description de l'image">
                </div>
            </div>
        </div>
    </template>

    <template id="template-personal-field">
        <div class="block-item" data-type="personal-field">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge" style="background: linear-gradient(135deg, #DFF2B6, #C5E89E); color: #2D403B;">üë§ Champ personnel</span>
                <div class="block-actions">
                    <button class="block-action-btn duplicate" title="Dupliquer">üìã</button>
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content">
                <div class="block-form-group">
                    <label>Question / Label</label>
                    <input type="text" class="block-field" data-field="label" placeholder="Ex: Quel est votre revenu mensuel net ?">
                </div>
                <div class="block-form-row">
                    <div class="block-form-group">
                        <label>Cl√© de stockage</label>
                        <input type="text" class="block-field" data-field="key" placeholder="Ex: revenu_mensuel">
                        <small style="color: #6B7280; font-size: 0.75rem;">Identifiant unique (sans espaces ni accents)</small>
                    </div>
                    <div class="block-form-group">
                        <label>Type de champ</label>
                        <select class="block-field" data-field="fieldType">
                            <option value="text">Texte libre</option>
                            <option value="number">Nombre</option>
                            <option value="money">Montant (‚Ç¨)</option>
                            <option value="percent">Pourcentage (%)</option>
                            <option value="date">Date</option>
                            <option value="textarea">Texte long</option>
                        </select>
                    </div>
                </div>
                <div class="block-form-group">
                    <label>Placeholder (texte d'aide)</label>
                    <input type="text" class="block-field" data-field="placeholder" placeholder="Ex: 2500">
                </div>
                <div class="block-form-group">
                    <label>Aide contextuelle (optionnel)</label>
                    <input type="text" class="block-field" data-field="help" placeholder="Ex: Indiquez votre salaire apr√®s imp√¥ts">
                </div>
            </div>
        </div>
    </template>

    <template id="template-page-break">
        <div class="block-item block-page-break" data-type="page-break">
            <div class="block-header">
                <span class="block-drag-handle">‚ãÆ‚ãÆ</span>
                <span class="block-type-badge" style="background: linear-gradient(135deg, #F0D075, #E5C35A); color: #2D403B;">‚û°Ô∏è Slide suivante</span>
                <div class="block-actions">
                    <button class="block-action-btn delete" title="Supprimer">üóëÔ∏è</button>
                </div>
            </div>
            <div class="block-content" style="text-align: center; padding: 1rem; color: #6B7280; font-style: italic;">
                <div style="border-top: 2px dashed #F0D075; margin: 0.5rem 0;"></div>
                ‚Üì Les blocs suivants seront sur une nouvelle slide ‚Üì
            </div>
        </div>
    </template>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../assets/js/config.js"></script>
    <script src="../assets/js/admin-quiz.js"></script>
</body>
</html>